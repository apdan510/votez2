{"version":3,"sources":["reducers/index.js","reducers/init_ipfs.js","actions/index.js","containers/Header.js","containers/Footer.js","components/Status.js","components/See.js","components/Upload.js","components/App.js","registerServiceWorker.js","index.js","../node_modules/grommet/messages sync /^/.*$"],"names":["rootReducer","combineReducers","ipfs","state","action","type","payload","initIPFS","IPFS","host","port","protocol","Header","align","title","Redirect","to","Component","connect","actions","href","props","Home","success","failure","modalOpen","hash","data","loading","handleChange","bind","handleSubmit","event","value","target","this","setState","name","preventDefault","catJSON","err","a","message","onSubmit","pad","labelFor","id","onDOMChange","placeHolder","primary","label","src","size","status","Put","document","handleUploadFile","files","match","reader","FileReader","onload","theFile","e","result","readAsDataURL","addJSON","_hash","onChange","_App","ReactGA","initialize","process","GA_TRACKING_ID","set","page","window","location","pathname","pageview","GA_INITIALIZED","initGA","logPageView","BrowserRouter","responsive","Route","exact","path","component","Upload","See","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch","error","createStoreWithMiddleware","applyMiddleware","thunk","createStore","ReactDOM","store","reducers","getElementById","URL","origin","addEventListener","fetch","response","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","map","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports"],"mappings":"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","file":"static/js/main.b36a723f.chunk.js","sourcesContent":["import { combineReducers } from 'redux'\r\n\r\nimport IPFSReducer from './init_ipfs'\r\n\r\nconst rootReducer = combineReducers({\r\n  ipfs: IPFSReducer\r\n})\r\n\r\nexport default rootReducer\r\n","export default (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'INIT_IPFS':\r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import IPFS from 'ipfs-mini'\r\n\r\nexport function initIPFS(payload) {\r\n  const ipfs = new IPFS({\r\n    host: 'ipfs.infura.io',\r\n    port: 5001,\r\n    protocol: 'https'\r\n  })\r\n\r\n  return {\r\n    type: 'INIT_IPFS',\r\n    payload: ipfs\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router'\r\n\r\nimport Heading  from 'grommet/components/Heading'\r\nimport Tabs  from 'grommet/components/Tabs'\r\nimport Box  from 'grommet/components/Box'\r\nimport Tab  from 'grommet/components/Tab'\r\n\r\nimport * as actions from '../actions'\r\n\r\nclass Header extends Component {\r\n  render () {\r\n    return (\r\n      <Box align=\"center\">\r\n        <Heading align=\"center\">IPFS Image Uploader</Heading>\r\n        <Tabs>\r\n          <Tab title='See'>\r\n            <Redirect to='/see' />\r\n          </Tab>\r\n          <Tab title='Upload'>\r\n            <Redirect to='/upload' />\r\n          </Tab>\r\n        </Tabs>\r\n      </Box>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { }\r\n}\r\n\r\nexport default connect(mapStateToProps, actions)(Header)\r\n","import React from 'react';\r\nimport { connect } from 'react-redux'\r\n\r\nimport Box from 'grommet/components/Box'\r\nimport Paragraph from 'grommet/components/Paragraph'\r\n\r\nconst Footer = () => (\r\n  <Box align='center'>\r\n    <Paragraph>&copy; 2018, <a href=\"https://talaikis.com/\">Talaikis Ltd.</a></Paragraph>\r\n  </Box>\r\n)\r\n\r\nfunction mapStateToProps(state) {\r\n  return { }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Footer)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nconst Status = (props) => {\r\n  return (\r\n    <div>\r\n      { !props.ipfs\r\n        ? <div>\r\n          <strong>Warning!</strong> IPFS isn't initiated by some reason.\r\n        </div>\r\n        : null\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    ipfs: state.ipfs\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Status)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport Toast from 'grommet/components/Toast'\r\nimport Box from 'grommet/components/Box'\r\nimport Heading from 'grommet/components/Heading'\r\nimport Label from 'grommet/components/Label'\r\nimport Form from 'grommet/components/Form'\r\nimport Button from 'grommet/components/Button'\r\nimport TextInput from 'grommet/components/TextInput'\r\nimport Image from 'grommet/components/Image'\r\n\r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      success: '',\r\n      failure: '',\r\n      modalOpen: false,\r\n      hash: '',\r\n      data: '',\r\n      loading: false\r\n    }\r\n\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.handleSubmit = this.handleSubmit.bind(this)\r\n  }\r\n\r\n  handleChange(event) {\r\n    const value = event.target.value ? event.target.value : ''\r\n    \r\n    this.setState({\r\n      [event.target.name]: value\r\n    })\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault()\r\n\r\n    this.setState({\r\n      loading: true\r\n    })\r\n\r\n    if (this.state.hash !== '') {\r\n      this.props.ipfs.catJSON(this.state.hash, async (err, data) => {\r\n        if(err) {\r\n          // console.log(err)\r\n          this.setState({\r\n            modalOpen: true,\r\n            failure: `Error occured: ${err.message}`\r\n          })\r\n        } else {\r\n          this.setState({\r\n            data: data\r\n          })\r\n        }\r\n      })\r\n    } else {\r\n      this.setState({\r\n        modalOpen: true,\r\n        failure: `You need to enter IPFS hash.`\r\n      })\r\n    }\r\n\r\n    this.setState({\r\n      loading: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Box>\r\n        <Box align=\"center\">\r\n          <Heading align=\"center\">Load data from IPFS</Heading>\r\n          <Form onSubmit={this.handleSubmit}>\r\n            <Box pad='small' align='center'>\r\n              <Label labelFor=\"hash\">Enter IPFS hash:</Label>\r\n            </Box>\r\n            <Box pad='small' align='center'>\r\n              <TextInput id='hash'\r\n                type='text'\r\n                name='hash'\r\n                onDOMChange={this.handleChange}\r\n                value={this.state.hash}\r\n                placeHolder='E.g. QmfWyGyMYHqqzEFUmfoUJyPQ6EzGnoB18v9CNbPjczXGgH' />\r\n            </Box>\r\n            <Box pad='small' align='center'>\r\n              { this.state.loading ? 'Loading...' : <Button primary={true} type='submit' label='Get it' /> }\r\n            </Box>\r\n            <Box pad='small' align='center'>\r\n              <Label align=\"cenyer\">{ this.state.hash ? `Hash: ${this.state.hash}` : '' }</Label>\r\n            </Box>\r\n          </Form>\r\n          { this.state.data ? <Image src={this.state.data} size='large' align=\"center\" />\r\n            : ''\r\n          }\r\n          <Box align=\"center\">\r\n            <Label align=\"center\">\r\n              If you want to add this image as your image source, use this url:\r\n            </Label>\r\n            <pre>\r\n              https://ipfs.infura.io:5001/api/v0/cat/{this.state.hash}\r\n            </pre>\r\n          </Box>\r\n        </Box>\r\n          { this.state.modalOpen && <Toast\r\n            status={this.state.success ? 'ok' : 'critical' }>\r\n              <p>{ this.state.success ? this.state.success : null }</p>\r\n              <p>{ this.state.failure ? this.state.failure : null }</p>\r\n            </Toast>\r\n          }\r\n      </Box>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    ipfs: state.ipfs\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Home)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport Toast from 'grommet/components/Toast'\r\nimport Heading from 'grommet/components/Heading'\r\nimport Box from 'grommet/components/Box'\r\nimport Button from 'grommet/components/Button'\r\nimport Label  from 'grommet/components/Label'\r\nimport Form  from 'grommet/components/Form'\r\n\r\nclass Put extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      hash: '',\r\n      success: '',\r\n      failure: '',\r\n      modalOpen: false,\r\n      document: '',\r\n      loading: false\r\n    }\r\n\r\n    this.handleUploadFile = this.handleUploadFile.bind(this)\r\n    this.handleSubmit = this.handleSubmit.bind(this)\r\n  }\r\n\r\n  handleUploadFile(event) {\r\n    const data = event.target.files[0]\r\n    const name = event.target.name\r\n    if (data.type.match('image/*')) {\r\n      const reader = new FileReader()\r\n      reader.onload = (function(theFile) {\r\n        return function(e) {\r\n          this.setState({\r\n            [name]: e.target.result\r\n          })\r\n        }.bind(this)\r\n    }.bind(this))(data)\r\n    reader.readAsDataURL(data)\r\n    } else {\r\n      this.setState({\r\n        modalOpen: true,\r\n        failure: `We can accept only image files.`\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault()\r\n\r\n    this.setState({\r\n      loading: true\r\n    })\r\n\r\n    if (this.state.document !== '') {\r\n      this.props.ipfs.addJSON(this.state.document, async (err, _hash) => {\r\n        if (err) {\r\n          this.setState({\r\n            failure: `Error occured: ${err.message}`\r\n          })\r\n        } else {\r\n          this.setState({\r\n            modalOpen: true,\r\n            hash: _hash,\r\n            success: `Success! Your hash: ${_hash}`\r\n          })\r\n        }\r\n      })\r\n    } else {\r\n      this.setState({\r\n        modalOpen: true,\r\n        failure: `You need an image.`\r\n      })\r\n    }\r\n\r\n    this.setState({\r\n      loading: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Box align=\"center\">\r\n        <Heading align=\"center\">Upload image to Interplanetary File System (IPFS)</Heading>\r\n        <Box align='center'>\r\n          <Form onSubmit={this.handleSubmit}>\r\n            <Box pad='small' align='center'>\r\n              <Label>Please attach your image:</Label>\r\n              <input id='file' name='document' type='file' onChange={this.handleUploadFile} />\r\n            </Box>\r\n            <Box pad='small' align='center'>\r\n              { this.state.loading ? 'Loading...' : <Button primary={true} type='submit' label='Upload' /> }\r\n            </Box>\r\n          </Form>\r\n          { this.state.hash !== '' ? `Note your hash: ${this.state.hash}` : '' }\r\n        </Box>\r\n          { this.state.modalOpen && <Toast\r\n            status={this.state.success ? 'ok' : 'critical' }>\r\n              <p>{ this.state.success ? this.state.success : null }</p>\r\n              <p>{ this.state.failure ? this.state.failure : null }</p>\r\n            </Toast>\r\n          }\r\n      </Box>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    ipfs: state.ipfs\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Put)\r\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { BrowserRouter, Route } from 'react-router-dom'\nimport ReactGA from 'react-ga'\n\nimport '../../node_modules/grommet-css'\nimport App from 'grommet/components/App'\nimport Box from 'grommet/components/Box'\n\nimport * as actions from '../actions'\nimport Header from '../containers/Header'\nimport Footer from '../containers/Footer'\nimport Status from './Status'\nimport See from './See'\nimport Upload from './Upload'\n\nclass _App extends Component {\n  initGA () {\n    ReactGA.initialize(process.env.GA_TRACKING_ID)\n    // console.log('Initialized')\n  }\n\n  logPageView () {\n    ReactGA.set({ page: window.location.pathname })\n    ReactGA.pageview(window.location.pathname)\n    // console.log(`Logged: ${window.location.pathname}`)\n  }\n\n  componentDidMount () {\n    this.props.initIPFS()\n    if (process.env.NODE_ENV === 'production') {\n      if (!window.GA_INITIALIZED) {\n        this.initGA()\n        window.GA_INITIALIZED = true\n      }\n      this.logPageView()\n    }\n  }\n\n  render() {\n    return (\n      <App>\n        <div>\n          <BrowserRouter>\n            <div>\n              <Box align='center' responsive={true} pad='large'>\n                <Status ipfs={this.props.ipfs} {...this.props} />\n                <Box align='center' responsive={true} pad='medium'>\n                  <Header />\n                </Box>\n                <Route exact path='/upload' component={Upload} />\n                <Route exact path='/see' component={See} />\n              </Box>\n              <Footer />\n            </div>\n          </BrowserRouter>\n        </div>\n      </App>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    ipfs: state.ipfs\n  }\n}\n\nexport default connect(mapStateToProps, actions)(_App)\n","const isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location)\n    if (publicUrl.origin !== window.location.origin) {\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        checkValidServiceWorker(swUrl)\n\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          )\n        })\n      } else {\n        registerValidSW(swUrl)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              console.log('New content is available; please refresh.')\n            } else {\n              console.log('Content is cached for offline use.')\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  fetch(swUrl)\n    .then(response => {\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        registerValidSW(swUrl)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport * as ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport reducers from './reducers'\n\nimport App from './components/App'\nimport registerServiceWorker from './registerServiceWorker'\n// import { unregister } from './registerServiceWorker'\nconst createStoreWithMiddleware = applyMiddleware(thunk)(createStore)\n\nReactDOM.render(\n  <Provider store={createStoreWithMiddleware(reducers)}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n\nregisterServiceWorker()\n// unregister()\n","var map = {\n\t\"./en\": 52,\n\t\"./en-US\": 39,\n\t\"./en-US.js\": 39,\n\t\"./en.js\": 52,\n\t\"./fr\": 53,\n\t\"./fr-FR\": 40,\n\t\"./fr-FR.js\": 40,\n\t\"./fr.js\": 53,\n\t\"./he\": 54,\n\t\"./he.js\": 54,\n\t\"./icons/en\": 55,\n\t\"./icons/en-US\": 11,\n\t\"./icons/en-US.js\": 11,\n\t\"./icons/en.js\": 55,\n\t\"./icons/fr\": 56,\n\t\"./icons/fr-FR\": 31,\n\t\"./icons/fr-FR.js\": 31,\n\t\"./icons/fr.js\": 56,\n\t\"./icons/ja\": 57,\n\t\"./icons/ja-JP\": 41,\n\t\"./icons/ja-JP.js\": 41,\n\t\"./icons/ja.js\": 57,\n\t\"./icons/nl\": 42,\n\t\"./icons/nl.js\": 42,\n\t\"./icons/zh\": 58,\n\t\"./icons/zh-CN\": 43,\n\t\"./icons/zh-CN.js\": 43,\n\t\"./icons/zh.js\": 58,\n\t\"./ja\": 59,\n\t\"./ja-JP\": 44,\n\t\"./ja-JP.js\": 44,\n\t\"./ja.js\": 59,\n\t\"./nl\": 60,\n\t\"./nl.js\": 60,\n\t\"./pt\": 61,\n\t\"./pt-BR\": 45,\n\t\"./pt-BR.js\": 45,\n\t\"./pt.js\": 61,\n\t\"./ru\": 62,\n\t\"./ru-RU\": 46,\n\t\"./ru-RU.js\": 46,\n\t\"./ru.js\": 62,\n\t\"./zh\": 63,\n\t\"./zh-CN\": 47,\n\t\"./zh-CN.js\": 47,\n\t\"./zh.js\": 63\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 89;"],"sourceRoot":""}